// 用户
entity SystemUser {
    // 登录账号
	//@NotBlank(groups={ValidateCreateGroup.class})
	//@Size(min = 1, max = 255)
    login String --column-type="varchar(255)"
    // 密码
    //@RestFieldAllow(allowGet = false)
    password String --column-type="varchar(255)"
    // 密码有效期至
    //@RestFieldAllow(allowSet = false)
    passwordDeadline String --column-type="varchar(20)"
    // 账号状态（1：启用 2：停用）
    accountStatus Integer --column-type="tinyint"
    // 姓名
	//@NotBlank(groups={ValidateCreateGroup.class})
	//@Size(min = 1, max = 255)
    name String --column-type="varchar(255)"
    // 手机号
	//@NotBlank(groups={ValidateCreateGroup.class})
	//@ValidCell
    cell String --column-type="varchar(20)"
    // 其他联系方式
	//@Size(max = 255)
    contractInfo String --column-type="varchar(255)"
    // 身份证号
	//@ValidCid
    identifyNo String --column-type="varchar(25)"
    // 邮箱
	//@Size(max = 255)
    email String --column-type="varchar(255)"
    // 头像图片相对路径
	//@Size(max = 255)
    imgRelativePath String --column-type="varchar(255)"
    // 备注
	//@Size(max = 255)
    memo String --column-type="varchar(255)"
}

// 角色
entity SystemRole {
    // 角色标识
	//@NotBlank(groups={ValidateCreateGroup.class})
	//@Size(min = 1, max = 255)
    name String --column-type="varchar(255)"
    // 角色中文名称
	//@NotBlank(groups={ValidateCreateGroup.class})
	//@Size(min = 1, max = 255)
    chineseName String --column-type="varchar(255)"
    // 角色描述
	//@Size(max = 255)
    description String --column-type="varchar(255)"
}

// 用户角色关系
entity SystemUserRole {
}

// 权限
entity SystemPermission {
    // 权限标识
	//@NotBlank(groups={ValidateCreateGroup.class})
	//@Size(min = 1, max = 255)
    code String --column-type="varchar(255)"
    // 权限描述
	//@Size(max = 255)
    description String --column-type="varchar(255)"
}

// 资源
entity SystemResource {
    // 资源类别（PERMISSION：权限   CLIENT_TYPE：客户端应用    SUB_SYSTEM：子系统）
	//@NotBlank(groups={ValidateCreateGroup.class})
	//@Size(min = 1, max = 50)
    resourceType String --column-type="varchar(50)"
    // 资源名称
	//@NotBlank(groups={ValidateCreateGroup.class})
	//@Size(min = 1, max = 255)
    name String --column-type="varchar(255)"
    // 资源描述
	//@Size(max = 255)
    description String --column-type="varchar(255)"
	// 资源所属系统代码（只有在多系统联合配置权限时使用）
	//@Size(max = 50)
	systemCode String --column-type="varchar(50)"
	// 资源特性标识（同一系统，同一类别内资源特性标识）
	//@Size(max = 255)
	identify String --column-type="varchar(255)"
	// 当前层级
	//@Min(0)
	currentLevel Integer --column-type="int"
	// 层级内排序
	//@Min(0)
	levelIndex Integer --column-type="int"
}

// 页面元素和权限
entity SystemPageElementPermission {
    // 页面元素标识
	//@NotBlank(groups={ValidateCreateGroup.class})
	//@Size(min = 1, max = 255)
    pageElementCode String --column-type="varchar(255)"
    // 权限标识
	//@NotBlank(groups={ValidateCreateGroup.class})
	//@Size(min = 1, max = 255)
    permissionIdentify String --column-type="varchar(255)"
}

// 角色和页面元素
entity SystemRolePageElement {
    // 角色ID
	//@NotNull(groups={ValidateCreateGroup.class})
    roleId Long --column-type="bigint"
    // 页面元素标识
	//@NotBlank(groups={ValidateCreateGroup.class})
	//@Size(min = 1, max = 255)
    pageElementCode String --column-type="varchar(255)"
}

// 资源许可关系
entity SystemResourcePermission {
}

// 角色资源关系
entity SystemRoleResource {
}

// 用户资源关系
entity SystemUserResource {
}

// 组织机构
entity SystemOrganization {
    // 组织机构代码
	//@NotBlank(groups={ValidateCreateGroup.class})
	//@Size(min = 1, max = 255)
    organizationCode String --column-type="varchar(255)"
    // 组织机构名称
	//@NotBlank(groups={ValidateCreateGroup.class})
	//@Size(min = 1, max = 255)
    name String --column-type="varchar(255)"
    // 组织机构描述
	//@Size(max = 255)
    description String --column-type="varchar(255)"
	// 当前层级
	//@Min(0)
	currentLevel Integer --column-type="int"
}

// 操作日志
entity SystemLog {
    // 日志类型
	//@NotBlank
	//@Size(min = 1, max = 255)
    logType String --column-type="varchar(255)"
    // 日志内容
	//@NotBlank
	//@Size(min = 1, max = 255)
    content String --column-type="varchar(255)"
}

// 数据字典
entity SystemDictionary {
    // 数据字典类别编码
	//@NotBlank(groups={ValidateCreateGroup.class})
	//@Size(min = 1, max = 255)
    dicType String --column-type="varchar(255)"
    // 数据字典代码
	//@NotBlank(groups={ValidateCreateGroup.class})
	//@Size(min = 1, max = 255)
    dicCode String --column-type="varchar(255)"
    // 数据字典中文值
	//@NotBlank(groups={ValidateCreateGroup.class})
	//@Size(min = 1, max = 255)
    dicValue String --column-type="varchar(255)"
    // 数据字典描述
	//@Size(max = 255)
    dicDescription String --column-type="varchar(255)"
}

// 学校订单
entity SfstSchoolOrder {
	// 订单编号
    //@RestFieldAllow(allowSet = false)
    orderNo String --column-type="varchar(255)"
	// 下单时间
    //@RestFieldAllow(allowSet = false)
    orderTime String --column-type="varchar(255)"
	// 订单状态
    orderStatus String --column-type="varchar(255)"
	// 订单总价
    //@RestFieldAllow(allowSet = false)
    totalPrice String --column-type="varchar(255)"
    // 要求配送时间
	//@NotBlank(groups={ValidateCreateGroup.class})
	//@ValidDateTime
    requestDeliveryTime String --column-type="varchar(255)"
    // 学校备注
    //@Size(max = 255)
    schoolMemo String --column-type="varchar(255)"
    // 出货时间
	//@ValidDateTime
    shipTime String --column-type="varchar(255)"
    // 收货时间
    //@ValidDateTime
    receiptTime String --column-type="varchar(255)"
    // 是否留作记录用的原始订单（1：是  2：否）
    //@RestFieldAllow(allowSet = false)
    //@ValidEnum(target = Constants.yesNo.class)
    originalOrNot Integer --column-type="tinyint"
    // 用于生成学校订单号的供应商编号
    //@RestFieldAllow(allowSet = false)
    supplierCodeForOrderNo String --column-type="varchar(255)"
    // 用于生成学校订单号的学校编号
    //@RestFieldAllow(allowSet = false)
    schoolCodeForOrderNo String --column-type="varchar(255)"
    // 用于生成学校订单号的下单日期
    //@RestFieldAllow(allowSet = false)
    orderDateForOrderNo String --column-type="varchar(255)"
    // 用于生成学校订单号的流水号
    //@RestFieldAllow(allowSet = false)
    serialNoForOrderNo Integer --column-type="int"
}

relationship OneToOne {
	// 最新学校订单{最原始订单}
    //!CASCADE_DELETE:FORBIDDEN
	SfstSchoolOrder{originalOrder} to SfstSchoolOrder{newestOrder}
}

relationship OneToMany {
	// 用户{角色}
	SystemUser{systemUserRole} to SystemUserRole{systemUser}
    // 角色{用户}
	SystemRole{systemUserRole} to SystemUserRole{systemRole}
	// 父资源{子资源}
	SystemResource{child} to SystemResource{parent}
    // 父组织机构{子组织机构}
	SystemOrganization{child} to SystemOrganization{parent}
    // 资源{许可}
	SystemResource{systemResourcePermission} to SystemResourcePermission{systemResource}
    // 许可{资源}
	SystemPermission{systemResourcePermission} to SystemResourcePermission{systemPermission}
    // 角色{资源}
	SystemRole{systemRoleResource} to SystemRoleResource{systemRole}
    // 资源{角色}
	SystemResource{systemRoleResource} to SystemRoleResource{systemResource}
    // 用户{资源}
	SystemUser{systemUserResource} to SystemUserResource{systemUser}
    // 资源{用户}
	SystemResource{systemUserResource} to SystemUserResource{systemResource}
    // 组织机构{用户}
    //!CASCADE_DELETE:NULL
	SystemOrganization{systemUser} to SystemUser{systemOrganization}
    // 父数据字典{子数据字典}
	SystemDictionary{child} to SystemDictionary{parent}
}